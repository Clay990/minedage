<div ng-controller="adminUploadOnlineExamController">


  <!-- begin panel -->
  <div class="panel panel-success">
    <!-- begin panel-heading -->
    <div class="panel-heading">
      <div class="panel-heading-btn">
        <a href="javascript:;" class="btn btn-sm btn-icon btn-circle btn-default" ui-sref="app.admin.screen"><i class="fa fa-arrow-alt-circle-left"></i></a>
        <a href="javascript:;" class="btn btn-sm btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>

      </div>
      <ng-include src="'views/admin/menu/onlineexammenu.html'"></ng-include>
      <h4 class="panel-title">Upload Online Exam</h4>
    </div>
    <!-- end panel-heading -->
    <!-- begin panel-body -->
    <div class="panel-body">
      <form method="POST" name="onlineExamForm" class="margin-bottom-0" novalidate>
        <div class="row" ng-if="!school.isSectionApplicable">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Class</label>
              <select name="className" class="form-control input-sm" ng-required="true" ng-options="x as x.groupName for x in userGroups" title="Select Class" data-live-search="true"
                      ng-model="onlineExam.group" selectpicker="" selectpicker-options="userGroups" ng-change="getSubjects()">
                <option value="" ng-show="false" />
              </select>
              <span class="label label-danger" ng-show="onlineExamForm.className.$error.required && onlineExamForm.className.$touched">Class is required.</span>

            </div>
          </div>
        </div>
        <div class="row" ng-if="school.isSectionApplicable">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Class</label>
              <select name="className" class="form-control input-sm" ng-required="true" ng-options="x as x.groupName for x in userGroups" title="Select Class" data-live-search="true"
                      ng-model="onlineExam.group" selectpicker="" selectpicker-options="userGroups" ng-change="getSections()">
                <option value="" ng-show="false" />
              </select>
              <span class="label label-danger" ng-show="onlineExamForm.className.$error.required && onlineExamForm.className.$touched">Class is required.</span>

            </div>
          </div>
        </div>
        <div class="row" ng-if="school.isSectionApplicable">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Section</label>
              <select name="sectionName" class="form-control input-sm" ng-required="true" ng-options="x as x.sectionName for x in userSections" title="Select Section" data-live-search="true"
                      ng-model="onlineExam.section" selectpicker="" selectpicker-options="userSections" ng-change="getSubjects()">
                <option value="" ng-show="false" />
              </select>
              <span class="label label-danger" ng-show="onlineExamForm.sectionName.$error.required && onlineExamForm.sectionName.$touched">Section is required.</span>

            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Subject</label>
              <select name="subject" class="form-control input-sm" ng-required="true" ng-options="x as x.subjectName for x in subjects" title="Select Subject" data-live-search="true"
                      ng-model="onlineExam.subject" selectpicker="" selectpicker-options="subjects" >
                <option value="" ng-show="false" />
              </select>
              <span class="label label-danger" ng-show="onlineExamForm.subject.$error.required && onlineExamForm.subject.$touched">Subject is required.</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <label>Online Exam Date</label>
              </div>
              <input type="text" bootstrapdatepicker ng-model="onlineExam.onlineExamDate" class="form-control" ng-readonly="true" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <label>Start Time</label>
              </div>
              <div class="input-group bootstrap-timepicker timepicker">
                <input ng-model="onlineExam.startTime" type="text" class="form-control input-small" bootstraptimepicker>
                <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <label>End Time</label>
              </div>
              <div class="input-group bootstrap-timepicker timepicker">
                <input ng-model="onlineExam.endTime" type="text" class="form-control input-small" bootstraptimepicker>
                <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <label>Publish Date</label>
              </div>
              <input type="text" bootstrapdatepicker ng-model="onlineExam.publishDate" class="form-control" ng-readonly="true" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <label>Publish Time</label>
              </div>
              <div class="input-group bootstrap-timepicker timepicker">
                <input ng-model="onlineExam.publishTime" type="text" class="form-control input-small" bootstraptimepicker>
                <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Description</label>
              <textarea name="description" type="text" ng-model="onlineExam.description" class="form-control" ng-required="true"
              ></textarea>

              <span class="label label-danger" ng-show="onlineExamForm.description.$error.required && onlineExamForm.description.$touched">Description is required.</span>


            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Max Marks</label>
              <div>
                <input type="number" name="maxMark" ng-model="onlineExam.maxMark" min="0">
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Exam Link</label>
              <textarea name="onlineExamLink" type="text" ng-model="onlineExam.onlineExamLink" class="form-control"
              ></textarea>

              <span class="label label-primary" ng-show="onlineExamForm.onlineExamForm.$touched"> Press enter key to put multiple resource link</span>

            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label>Student</label>
              <tags-input name="student" ng-model="onlineExam.student" replace-spaces-with-dashes="false" key-property="studentId" display-property="fullName" min-length="0" class="margin-top-10 ti-input-sm margin-bottom-10" placeholder="Students(s)"
              >
                <auto-complete source="queryStudents($query)"
                               min-length="0"
                               load-on-focus="true"
                               load-on-empty="true"></auto-complete>
              </tags-input>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div class="dropzone" options="dzOptions" callbacks="dzCallbacks" methods="dzMethods" capture="camera" ng-dropzone></div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <div>
                <input  id="btnCamera" ng-click="openCamera()" class="btn btn-primary btn-block btn-md" value="Capture Photo" type="button" />
              </div>
              <input ng-click="uploadOnlineExam(onlineExamForm)" type="button" class="btn btn-success btn-block btn-md m-t-5" value="Upload" />
            </div>
          </div>
        </div>
      </form>
    </div>
    <!-- end panel-body -->
  </div>
  <!-- end panel -->

</div>